(this["webpackJsonplast-app"]=this["webpackJsonplast-app"]||[]).push([[0],{115:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(7),c=a.n(r),o=a(38),i=a(19),s=a(6),m=(a(91),a(92),function(e){var t=e.isOn,a=e.handleToggle;return l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{checked:t,onChange:a,className:"react-switch-checkbox",id:"react-switch-new",type:"checkbox"}),l.a.createElement("label",{style:{background:t&&"#06D6A0"},className:"react-switch-label",htmlFor:"react-switch-new"},l.a.createElement("span",{className:"react-switch-button"})))}),u=a(12),h=a(13),d=a(15),b=a(14),p=function(){localStorage.removeItem("jwt")},g=function(){return!!localStorage.getItem("jwt")},f=a(45),E=a(53),v=a(145),C=a(137),y=a(146),j=a(138),O=a(139),w=a(140),k=a(141),S=a(142),N=a(51),x=a(144),P=a(74),L=a.n(P),F=a(68),T=a.n(F),I=a(73),A=a.n(I),D=a(72),B=a.n(D),q=Object(s.f)((function(e){var t,a=[{text:"Home",icon:l.a.createElement(T.a,null),onClick:function(){return e.history.push("/homepage")}},{text:"Sign up",icon:l.a.createElement(B.a,null),onClick:function(){return e.history.push("/sign-up")}},{text:"Login",icon:l.a.createElement(A.a,null),onClick:function(){e.history.push("/login")}}],r=Object(n.useState)({right:!1}),c=Object(o.a)(r,2),i=c[0],s=c[1],m=function(e,t){return function(){s(Object(E.a)(Object(E.a)({},i),{},Object(f.a)({},e,t)))}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,{component:"nav"},l.a.createElement(w.a,{style:{background:"#1F2236"}},l.a.createElement(k.a,null,l.a.createElement(S.a,{onClick:m("right",!0)},l.a.createElement(L.a,{style:{color:"#ffffff"}})),l.a.createElement(N.a,{variant:"h5",align:"center"}," UBS "),l.a.createElement(x.a,{open:i.right,onClose:m("right",!1)},(t="right",l.a.createElement(v.a,{onClick:m(t,!1)},l.a.createElement(C.a,null,a.map((function(e,t){return l.a.createElement(y.a,{button:!0,key:t,onClick:e.onClick},l.a.createElement(j.a,null,e.icon),l.a.createElement(O.a,{primary:e.text}))}))))))))))})),U=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleLogout=function(){p(),n.setState({isLogin:!1}),window.location="/homepage"},n.state={isLogin:g()},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("nav",{className:"navbar navbar-dark bg-dark navbar-expand-lg"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement(i.b,{to:"/homepage",className:"nav-link"},"Homepage |"),l.a.createElement(i.b,{to:"/profile",className:"nav-link"},"Profile |"),l.a.createElement(i.b,{to:"/post",className:"nav-link"},"Create new post |"),l.a.createElement(i.b,{onClick:function(){return e.handleLogout()},to:"/",className:"nav-link"},"Log out")))}}]),a}(n.Component),R=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleLogout=function(){p(),n.setState({isLogin:!1})},n.state={isLogin:g()},n}return Object(h.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,this.state.isLogin?l.a.createElement(U,null):l.a.createElement(q,null))}}]),a}(n.Component),J=a(23),H=a(31);function z(){var e=Object(H.a)(["\n  body {\n    background: ",";\n    color: ",";\n    font-family: Tahoma, Helvetica, Arial, Roboto, sans-serif;\n    transition: all 0.50s linear;\n  }\n  "]);return z=function(){return e},e}var M=Object(J.b)(z(),(function(e){return e.theme.body}),(function(e){return e.theme.text})),K={body:"#FFF",text:"#363537",toggleBorder:"#FFF",background:"#363537"},W={body:"#363537",text:"#FAFAFA",toggleBorder:"#6B8096",background:"#999"},G=a(8),Q=a(24),V=a.n(Q);function X(){var e=Object(H.a)(["\n  background-color: red;\n"]);return X=function(){return e},e}function Y(){var e=Object(H.a)(["\n  width: 50%;\n  margin-bottom: 1rem;\n"]);return Y=function(){return e},e}function Z(){var e=Object(H.a)(["\n  background: linear-gradient(to bottom, #6371c7, #5563c1);\n  border-color: #3f4eae;\n  border-radius: 3px;\n  padding: 1rem;\n  color: white;\n  font-weight: 700;\n  width: 100%;\n  margin-bottom: 1rem;\n  font-size: 0.8rem;\n"]);return Z=function(){return e},e}function $(){var e=Object(H.a)(["\n  padding: 1rem;\n  border: 1px solid #999;\n  margin-bottom: 1rem;\n  font-size: 0.8rem;\n"]);return $=function(){return e},e}function _(){var e=Object(H.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]);return _=function(){return e},e}function ee(){var e=Object(H.a)(["\n  box-sizing: border-box;\n  max-width: 410px;\n  margin: 0 auto;\n  padding: 0 2rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return ee=function(){return e},e}var te=J.c.div(ee()),ae=J.c.div(_()),ne=J.c.input($()),le=J.c.button(Z()),re=J.c.img(Y()),ce=(J.c.div(X()),function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handelChangePhone=function(e){n.setState({phone:e.target.value})},n.handelChangePrice=function(e){n.setState({price:e.target.value})},n.handelChangePhone=n.handelChangePhone.bind(Object(G.a)(n)),n.handelChangeDetails=n.handelChangeDetails.bind(Object(G.a)(n)),n.handelChangePlace=n.handelChangePlace.bind(Object(G.a)(n)),n.handelChangePrice=n.handelChangePrice.bind(Object(G.a)(n)),n.onSubmit=n.onSubmit.bind(Object(G.a)(n)),n.state={phone:"",details:"",place:"",price:""},n}return Object(h.a)(a,[{key:"handelChangeDetails",value:function(e){this.setState({details:e.target.value})}},{key:"handelChangePlace",value:function(e){this.setState({place:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={phone:this.state.phone,details:this.state.details,place:this.state.place,price:this.state.price};10!==t.phone.length&&(document.getElementById("accoutCreated").innerText="Phone number have to be 10 characters! "),""===t.place&&(document.getElementById("accoutCreated").innerText="Please select a city! "),"Please select one"===this.state.place&&this.setState({place:""}),V.a.post("http://localhost:5000/posts/add",t).then((function(e){document.getElementById("accoutCreated").innerText="Post created Successfully! ",setTimeout((function(){window.location="/homepage"}),1e3)}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(te,null,l.a.createElement("h3",null,"Create New Post"),l.a.createElement(ae,null,l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Description: "),l.a.createElement("textarea",{type:"text",required:!0,placeholder:"details",className:"form-control",name:"details",value:this.state.name,onChange:this.handelChangeDetails}),l.a.createElement("label",null,"City: "),l.a.createElement("select",{type:"text",className:"form-control",name:"place",placeholder:"place",value:this.state.name,onChange:this.handelChangePlace,required:!0},l.a.createElement("option",null,"Amman "),l.a.createElement("option",null,"Irbid "),l.a.createElement("option",null,"Aqaba "),l.a.createElement("option",null,"Karak ")),l.a.createElement("label",null,"Phone number: "),l.a.createElement("input",{type:"number",required:!0,className:"form-control",name:"number",placeholder:"Phone number",value:this.state.name,onChange:this.handelChangePhone}),l.a.createElement("label",null,"Price: "),l.a.createElement("input",{type:"number",required:!0,placeholder:"Price",className:"form-control",name:"price",value:this.state.name,onChange:this.handelChangePrice})),l.a.createElement("div",{className:"form-group"},l.a.createElement(le,{type:"submit",className:"btn btn-primary"},"Create Post")),l.a.createElement("br",null),l.a.createElement("p",{id:"accoutCreated"})))))}}]),a}(n.Component)),oe=a(49),ie=a.n(oe),se=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handelChangeUsername=function(e){n.setState({username:e.target.value})},n.handelChangeEmail=n.handelChangeEmail.bind(Object(G.a)(n)),n.handelChangeUsername=n.handelChangeUsername.bind(Object(G.a)(n)),n.handelChangePassword=n.handelChangePassword.bind(Object(G.a)(n)),n.handelChangeFirstname=n.handelChangeFirstname.bind(Object(G.a)(n)),n.handelChangeLastname=n.handelChangeLastname.bind(Object(G.a)(n)),n.onSubmit=n.onSubmit.bind(Object(G.a)(n)),n.state={username:"",email:"",password:"",firstname:"",lastname:""},n}return Object(h.a)(a,[{key:"handelChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"handelChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handelChangeFirstname",value:function(e){this.setState({firstname:e.target.value})}},{key:"handelChangeLastname",value:function(e){this.setState({lastname:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={username:this.state.username,email:this.state.email,password:this.state.password,firstname:this.state.firstname,lastname:this.state.lastname};console.log(t),V.a.post("http://localhost:5000/users/add",t).then((function(e){document.getElementById("accoutCreated").innerText="Account created Successfully! ",setTimeout((function(){window.location="/login"}),1e3)})).catch((function(){return document.getElementById("accoutCreated").innerText="The email is already exists! "})),this.setState({username:"",email:"",password:"",firstname:"",lastname:""})}},{key:"render",value:function(){return l.a.createElement(te,null,l.a.createElement(re,{src:ie.a}),l.a.createElement(ae,{onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Username: "),l.a.createElement("input",{type:"text",required:!0,placeholder:"username",className:"form-control",name:"username",value:this.state.name,onChange:this.handelChangeUsername}),l.a.createElement("label",null,"First Name: "),l.a.createElement("input",{type:"text",required:!0,className:"form-control",name:"firstname",placeholder:"first name",value:this.state.name,onChange:this.handelChangeFirstname}),l.a.createElement("label",null,"Last Name: "),l.a.createElement("input",{type:"text",required:!0,className:"form-control",name:"lastname",placeholder:"last name",value:this.state.name,onChange:this.handelChangeLastname}),l.a.createElement("label",null,"Email: "),l.a.createElement("input",{type:"email",required:!0,className:"form-control",name:"email",placeholder:"email",value:this.state.name,onChange:this.handelChangeEmail}),l.a.createElement("label",null,"Password: "),l.a.createElement("input",{type:"Password",required:!0,className:"form-control",name:"password",placeholder:"password",value:this.state.name,onChange:this.handelChangePassword})),l.a.createElement("div",{className:"form-group"},l.a.createElement(le,{type:"submit",className:"btn btn-primary"},"Sign up"))),l.a.createElement(i.b,{to:"/login"}," Already have an account ! Log in "),l.a.createElement("br",null),l.a.createElement("p",{id:"accoutCreated"}))}}]),a}(n.Component),me=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onChangeemail=n.onChangeemail.bind(Object(G.a)(n)),n.onChangepassword=n.onChangepassword.bind(Object(G.a)(n)),n.onSubmit=n.onSubmit.bind(Object(G.a)(n)),n.state={email:"",password:""},n.handleLogin=function(){localStorage.setItem("jwt","TestLogin")},n}return Object(h.a)(a,[{key:"onChangeemail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangepassword",value:function(e){this.setState({password:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={email:this.state.email,password:this.state.password};window.localStorage.setItem("myEmail",this.state.email),V.a.post("http://localhost:5000/users/login",a).then((function(e){"User not exist"===e.data?document.getElementById("loginResult").innerText="Login Failed! The email not exists! ":"wrong"===e.data?document.getElementById("loginResult").innerText="Login Failed! Wrong password! ":"success"===e.data&&(document.getElementById("loginResult").innerText="Login Successed! ",t.handleLogin(),setTimeout((function(){window.location="/homepage"}),1e3))})).catch((function(){return console.log("error")}))}},{key:"render",value:function(){return l.a.createElement("form",{className:"sign",onSubmit:this.onSubmit},l.a.createElement(te,null,l.a.createElement(re,{src:ie.a}),l.a.createElement(ae,null,l.a.createElement("label",{htmlFor:"email"},"Email address"),l.a.createElement(ne,{onChange:this.onChangeemail,type:"email",name:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"email",value:this.state.email,required:!0}),l.a.createElement("label",{htmlFor:"Password"},"Password"),l.a.createElement(ne,{onChange:this.onChangepassword,type:"password",name:"password",className:"form-control",id:"password",placeholder:"password",value:this.state.password,required:!0}),l.a.createElement(le,{type:"submit",className:"btn btn-primary"},"Login")),l.a.createElement(i.b,{to:"/sign-up"}," Email not Exists ! Sign Up "),l.a.createElement("br",null),l.a.createElement("p",{id:"loginResult"})))}}]),a}(n.Component),ue=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e={phone:n.state.data.phone,details:n.state.data.details,place:n.state.data.place};V.a.get("http://localhost:5000/posts/get",e).then((function(e){n.setState({data:e.data})})).catch((function(){return console.log("error")}))},n.state={data:[]},n}return Object(h.a)(a,[{key:"render",value:function(){return l.a.createElement("form",{className:"sign",onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("br",null)),this.state.data.map((function(e,t){return l.a.createElement(ae,{key:t+1},l.a.createElement("ul",{key:t},l.a.createElement("label",{key:e.details},"details : "+e.details),l.a.createElement("br",null),l.a.createElement("label",{key:e.phone},"phone number : "+e.phone),l.a.createElement("br",null),l.a.createElement("label",{key:e.place},"city : "+e.place)," ",l.a.createElement("br",null),l.a.createElement("label",{style:{color:"green"},key:e.price},"Price : "+function(e){return"0"===e?"Free":e+" JD"}(e.price)),l.a.createElement("br",null),l.a.createElement("label",{key:e.createdAt},"puplished at : "+function(e){for(var t=[],a=0;a<10;a++)t.push(e[a]);return t.join("")}(e.createdAt)+" At "+function(e){for(var t=[],a=11;a<16;a++)t.push(e[a]);return t.join("")}(e.createdAt)),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)))})))}}]),a}(n.Component),he=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleLogout=function(){p(),n.setState({isLogin:!1})},n.state={isLogin:g()},n}return Object(h.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(ue,null))}}]),a}(n.Component),de=a(78),be=function(e){var t=e.component,a=Object(de.a)(e,["component"]);return l.a.createElement(s.b,Object.assign({},a,{render:function(e){return g()?l.a.createElement(t,e):l.a.createElement(s.a,{to:"/login"})}}))},pe=Object(n.createContext)();var ge=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).getData=function(){var e=Object(G.a)(n);V.a.get("http://localhost:5000/users/get",{params:{email:window.localStorage.getItem("myEmail")}}).then((function(t){e.setState({email:t.data.email,userName:t.data.username,firstName:t.data.firstname,lastName:t.data.lastname})})).catch((function(e){return console.log(e)}))},n.componentDidMount=function(){n.getData()},n.state={email:"",userName:"",firstName:"",lastName:""},n}return Object(h.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(ae,null,l.a.createElement("span",null,"Username :",this.state.userName," "),l.a.createElement("br",null),l.a.createElement("span",null,"First name : ",this.state.firstName),l.a.createElement("br",null),l.a.createElement("span",null,"Last name : ",this.state.lastName),l.a.createElement("br",null),l.a.createElement("span",null,"email : ",this.state.email," "),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("p",{id:"loginResult"}))}}]),a}(n.Component);var fe=function(e){var t=JSON.parse(localStorage.getItem("tokens")),a=Object(n.useState)(t),r=Object(o.a)(a,2),c=r[0],u=r[1],h=Object(n.useState)("light"),d=Object(o.a)(h,2),b=d[0],p=d[1],g=function(){p("light"===b?"dark":"light")},f=Object(n.useState)(!1),E=Object(o.a)(f,2),v=E[0],C=E[1];return l.a.createElement(pe.Provider,{value:{authTokens:c,setAuthTokens:function(e){localStorage.setItem("tokens",JSON.stringify(e)),u(e)}}},l.a.createElement(J.a,{theme:"light"===b?K:W},l.a.createElement(l.a.Fragment,null,l.a.createElement(M,null),l.a.createElement(i.a,null,l.a.createElement(R,null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(m,{isOn:v,handleToggle:function(){return C(g)}}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"app"}),l.a.createElement(s.b,{path:"/sign-up",component:se}),l.a.createElement(s.b,{path:"/login",component:me}),l.a.createElement(s.b,{path:"/homepage",component:he}),l.a.createElement(be,{path:"/profile",component:ge,exact:!0}),l.a.createElement(be,{path:"/post",component:ce,exact:!0}))))))};c.a.render(l.a.createElement(fe,null),document.getElementById("root"))},49:function(e,t,a){e.exports=a.p+"static/media/logo.373c82a6.jpg"},86:function(e,t,a){e.exports=a(115)},92:function(e,t,a){}},[[86,1,2]]]);
//# sourceMappingURL=main.aeb33dd3.chunk.js.map